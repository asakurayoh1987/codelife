<svg id="SvgjsSvg1001" width="1048" height="913" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1002"><marker id="SvgjsMarker1039" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1040" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1047" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1048" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1075" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1076" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1079" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1080" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1083" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1084" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1095" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1096" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1121" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1122" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1147" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1148" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1167" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1168" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1187" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1188" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1207" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1208" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1229" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1230" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1255" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1256" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1277" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1278" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1299" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1300" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1303" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1304" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1307" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1308" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1311" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1312" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1315" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1316" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1319" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1320" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1323" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1324" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1327" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1328" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1331" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1332" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><g id="SvgjsG1008" transform="translate(204,25)"><path id="SvgjsPath1009" d="M 0 0L 490 0L 506 16L 506 83L 0 83L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1010" d="M 490 0L 490 16L 506 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1011" d="M 0 0L 490 0L 506 16L 506 83L 0 83L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1012"><text id="SvgjsText1013" font-family="微软雅黑" text-anchor="start" font-size="13px" width="486px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1014" dy="16" x="10"><tspan id="SvgjsTspan1015" style="text-decoration:;">https://order.diyring.cc/union/api/v1/q_cols?</tspan></tspan><tspan id="SvgjsTspan1016" dy="16" x="10"><tspan id="SvgjsTspan1017" style="text-decoration:;fill: rgb(231, 79, 76);">cn</tspan><tspan id="SvgjsTspan1018" style="text-decoration:;">=1111&amp;</tspan><tspan id="SvgjsTspan1019" style="text-decoration:;fill: rgb(231, 79, 76);">an</tspan><tspan id="SvgjsTspan1020" style="text-decoration:;">=HGG001&amp;</tspan><tspan id="SvgjsTspan1021" style="text-decoration:;fill: rgb(231, 79, 76);">pi</tspan><tspan id="SvgjsTspan1022" style="text-decoration:;">=002&amp;</tspan><tspan id="SvgjsTspan1023" style="text-decoration:;fill: rgb(231, 79, 76);">v</tspan><tspan id="SvgjsTspan1024" style="text-decoration:;">=1.0.00&amp;</tspan><tspan id="SvgjsTspan1025" style="text-decoration:;fill: rgb(231, 79, 76);">btp</tspan><tspan id="SvgjsTspan1026" style="text-decoration:;">=0&amp;</tspan><tspan id="SvgjsTspan1027" style="text-decoration:;fill: rgb(231, 79, 76);">id</tspan><tspan id="SvgjsTspan1028" style="text-decoration:;">=242805&amp;r=0.2795016158641</tspan></tspan><tspan id="SvgjsTspan1029" dy="16" x="10"><tspan id="SvgjsTspan1030" style="text-decoration:;">0216&amp;t=1677467423992</tspan></tspan></text></g></g><g id="SvgjsG1031" transform="translate(346,138)"><path id="SvgjsPath1032" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1033"><text id="SvgjsText1034" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1035" dy="16" x="48"><tspan id="SvgjsTspan1036" style="text-decoration:;">nginx</tspan></tspan></text></g></g><g id="SvgjsG1037"><path id="SvgjsPath1038" d="M210 166C 264.4 166 291.6 166 342.4 166" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1039)"></path><rect id="SvgjsRect1041" width="45" height="16" x="255.05" y="158" fill="#ffffff"></rect><text id="SvgjsText1042" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="45px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="155.375" transform="rotate(0)"><tspan id="SvgjsTspan1043" dy="16" x="277.55"><tspan id="SvgjsTspan1044" style="text-decoration:;">request</tspan></tspan></text></g><g id="SvgjsG1045"><path id="SvgjsPath1046" d="M442.9980940629893 164.93828904938744C 474.48630480679515 165 489.51369519320485 151 518.4068613732385 151.2221594222052" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1047)"></path></g><g id="SvgjsG1049" transform="translate(522,124)"><path id="SvgjsPath1050" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1051"><text id="SvgjsText1052" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1053" dy="16" x="48"><tspan id="SvgjsTspan1054" style="text-decoration:;">union-order</tspan></tspan></text></g></g><g id="SvgjsG1055" transform="translate(533,138)"><path id="SvgjsPath1056" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1057"><text id="SvgjsText1058" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1059" dy="16" x="48"><tspan id="SvgjsTspan1060" style="text-decoration:;">union-order</tspan></tspan></text></g></g><g id="SvgjsG1061" transform="translate(545,153)"><path id="SvgjsPath1062" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1063"><text id="SvgjsText1064" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1065" dy="16" x="48"><tspan id="SvgjsTspan1066" style="text-decoration:;">union-order</tspan></tspan></text></g></g><g id="SvgjsG1067" transform="translate(557,170)"><path id="SvgjsPath1068" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1069"><text id="SvgjsText1070" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1071" dy="16" x="48"><tspan id="SvgjsTspan1072" style="text-decoration:;">union-order</tspan></tspan></text></g></g><g id="SvgjsG1073"><path id="SvgjsPath1074" d="M443 165C 478.4 165 496.6 165 529.4 165" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1075)"></path></g><g id="SvgjsG1077"><path id="SvgjsPath1078" d="M442.9989526248379 165.04575645669658C 483.7573945547372 165 503.2426054452628 182 541.4037705505834 181.83527675589232" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1079)"></path></g><g id="SvgjsG1081"><path id="SvgjsPath1082" d="M442.9977928823508 165.06640304157267C 489.74767010022583 165 509.25232989977417 197 553.4079456235371 196.76094905033844" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1083)"></path></g><g id="SvgjsG1085" transform="translate(515,235)"><path id="SvgjsPath1086" d="M 0 0L 122 0L 138 16L 138 52L 0 52L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1087" d="M 122 0L 122 16L 138 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1088" d="M 0 0L 122 0L 138 16L 138 52L 0 52L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1089"><text id="SvgjsText1090" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="118px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.375" transform="rotate(0)"><tspan id="SvgjsTspan1091" dy="16" x="69"><tspan id="SvgjsTspan1092" style="text-decoration:;">通过pm2管理</tspan></tspan></text></g></g><g id="SvgjsG1093"><path id="SvgjsPath1094" d="M121.93195922523051 508.36256310141505C 165 527 196 522 237.57064836745604 508.09523850387393" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1095)"></path><rect id="SvgjsRect1097" width="45" height="16" x="157.8128259490858" y="512.4322252006612" fill="#ffffff"></rect><text id="SvgjsText1098" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="45px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="509.80722520066115" transform="rotate(0)"><tspan id="SvgjsTspan1099" dy="16" x="180.3128259490858"><tspan id="SvgjsTspan1100" style="text-decoration:;">request</tspan></tspan></text></g><g id="SvgjsG1101" transform="translate(241,481)"><path id="SvgjsPath1102" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1103"><text id="SvgjsText1104" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1105" dy="16" x="48"><tspan id="SvgjsTspan1106" style="text-decoration:;">koa-logger</tspan></tspan></text></g></g><g id="SvgjsG1107" transform="translate(170,543)"><path id="SvgjsPath1108" d="M 0 0L 209 0L 225 16L 225 69L 0 69L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1109" d="M 209 0L 209 16L 225 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1110" d="M 0 0L 209 0L 225 16L 225 69L 0 69L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1111"><text id="SvgjsText1112" font-family="微软雅黑" text-anchor="start" font-size="13px" width="205px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.375" transform="rotate(0)"><tspan id="SvgjsTspan1113" dy="16" x="10"><tspan id="SvgjsTspan1114" style="text-decoration:;">设置请求的唯一标识，并添加日志</tspan></tspan><tspan id="SvgjsTspan1115" dy="16" x="10"><tspan id="SvgjsTspan1116" style="text-decoration:;">中间件，后续可以通过ctx.logger来</tspan></tspan><tspan id="SvgjsTspan1117" dy="16" x="10"><tspan id="SvgjsTspan1118" style="text-decoration:;">调用对应的日志方法</tspan></tspan></text></g></g><g id="SvgjsG1119"><path id="SvgjsPath1120" d="M337.9041262240828 508.4272654572111C 370 525 383 524 413.70557566300107 509.45147107714524" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1121)"></path></g><g id="SvgjsG1123" transform="translate(417,481)"><path id="SvgjsPath1124" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1125"><text id="SvgjsText1126" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1127" dy="16" x="48"><tspan id="SvgjsTspan1128" style="text-decoration:;">koa-session</tspan></tspan></text></g></g><g id="SvgjsG1129" transform="translate(366,365)"><path id="SvgjsPath1130" d="M 0 0L 189 0L 205 16L 205 100L 0 100L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1131" d="M 189 0L 189 16L 205 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1132" d="M 0 0L 189 0L 205 16L 205 100L 0 100L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1133"><text id="SvgjsText1134" font-family="微软雅黑" text-anchor="start" font-size="13px" width="185px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="6.875" transform="rotate(0)"><tspan id="SvgjsTspan1135" dy="16" x="10"><tspan id="SvgjsTspan1136" style="text-decoration:;">管理session，根据cookie中的</tspan></tspan><tspan id="SvgjsTspan1137" dy="16" x="10"><tspan id="SvgjsTspan1138" style="text-decoration:;">用户标识从redis中将之前保存</tspan></tspan><tspan id="SvgjsTspan1139" dy="16" x="10"><tspan id="SvgjsTspan1140" style="text-decoration:;">的用户信息反序列化，之后就可</tspan></tspan><tspan id="SvgjsTspan1141" dy="16" x="10"><tspan id="SvgjsTspan1142" style="text-decoration:;">以通过ctx.session.user访问之</tspan></tspan><tspan id="SvgjsTspan1143" dy="16" x="10"><tspan id="SvgjsTspan1144" style="text-decoration:;">前保存到session中的用户信息</tspan></tspan></text></g></g><g id="SvgjsG1145"><path id="SvgjsPath1146" d="M513.9347769234485 508.35523527891837C 546 522 559 519 589.5637396433383 509.0733660891025" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1147)"></path></g><g id="SvgjsG1149" transform="translate(593,481)"><path id="SvgjsPath1150" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1151"><text id="SvgjsText1152" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1153" dy="16" x="48"><tspan id="SvgjsTspan1154" style="text-decoration:;">koa-body</tspan></tspan></text></g></g><g id="SvgjsG1155" transform="translate(553,543)"><path id="SvgjsPath1156" d="M 0 0L 183 0L 199 16L 199 69L 0 69L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1157" d="M 183 0L 183 16L 199 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1158" d="M 0 0L 183 0L 199 16L 199 69L 0 69L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1159"><text id="SvgjsText1160" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="179px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.375" transform="rotate(0)"><tspan id="SvgjsTspan1161" dy="16" x="99.5"><tspan id="SvgjsTspan1162" style="text-decoration:;">补足koa对诸如multipart类型</tspan></tspan><tspan id="SvgjsTspan1163" dy="16" x="99.5"><tspan id="SvgjsTspan1164" style="text-decoration:;">请求体的解析能力</tspan></tspan></text></g></g><g id="SvgjsG1165"><path id="SvgjsPath1166" d="M689.9291272217173 508.36976020048655C 721 522 740 523 765.7246494660258 509.49401435053176" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1167)"></path></g><g id="SvgjsG1169" transform="translate(769,481)"><path id="SvgjsPath1170" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1171"><text id="SvgjsText1172" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1173" dy="16" x="48"><tspan id="SvgjsTspan1174" style="text-decoration:;">@koa/cors</tspan></tspan></text></g></g><g id="SvgjsG1175" transform="translate(752,412)"><path id="SvgjsPath1176" d="M 0 0L 97 0L 113 16L 113 53L 0 53L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1177" d="M 97 0L 97 16L 113 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1178" d="M 0 0L 97 0L 113 16L 113 53L 0 53L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1179"><text id="SvgjsText1180" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="93px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.375" transform="rotate(0)"><tspan id="SvgjsTspan1181" dy="16" x="56.5"><tspan id="SvgjsTspan1182" style="text-decoration:;">跨域请求处理，</tspan></tspan><tspan id="SvgjsTspan1183" dy="16" x="56.5"><tspan id="SvgjsTspan1184" style="text-decoration:;">开启CORS</tspan></tspan></text></g></g><g id="SvgjsG1185"><path id="SvgjsPath1186" d="M817.4305388785813 535.9025720325991C 835 569 833 585 818.5901975111918 611.7702520415055" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1187)"></path></g><g id="SvgjsG1189" transform="translate(769,612)"><path id="SvgjsPath1190" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1191"><text id="SvgjsText1192" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1193" dy="16" x="48"><tspan id="SvgjsTspan1194" style="text-decoration:;">tracer</tspan></tspan></text></g></g><g id="SvgjsG1195" transform="translate(882,612)"><path id="SvgjsPath1196" d="M 0 0L 82 0L 98 16L 98 54L 0 54L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1197" d="M 82 0L 82 16L 98 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1198" d="M 0 0L 82 0L 98 16L 98 54L 0 54L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1199"><text id="SvgjsText1200" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1201" dy="16" x="49"><tspan id="SvgjsTspan1202" style="text-decoration:;">记录请求耗时</tspan></tspan><tspan id="SvgjsTspan1203" dy="16" x="49"><tspan id="SvgjsTspan1204" style="text-decoration:;">相关</tspan></tspan></text></g></g><g id="SvgjsG1205"><path id="SvgjsPath1206" d="M817.5005127242105 666.8657291798844C 837 696 833 715 818.5588374153921 742.7549998594185" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1207)"></path></g><g id="SvgjsG1209" transform="translate(769,743)"><path id="SvgjsPath1210" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1211"><text id="SvgjsText1212" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1213" dy="16" x="48"><tspan id="SvgjsTspan1214" style="text-decoration:;">koa-router</tspan></tspan></text></g></g><g id="SvgjsG1215" transform="translate(882,731)"><path id="SvgjsPath1216" d="M 0 0L 125 0L 141 16L 141 78L 0 78L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1217" d="M 125 0L 125 16L 141 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1218" d="M 0 0L 125 0L 141 16L 141 78L 0 78L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1219"><text id="SvgjsText1220" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="121px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="11.875" transform="rotate(0)"><tspan id="SvgjsTspan1221" dy="16" x="70.5"><tspan id="SvgjsTspan1222" style="text-decoration:;">进行路由的请求分</tspan></tspan><tspan id="SvgjsTspan1223" dy="16" x="70.5"><tspan id="SvgjsTspan1224" style="text-decoration:;">发，逻辑会进入预告</tspan></tspan><tspan id="SvgjsTspan1225" dy="16" x="70.5"><tspan id="SvgjsTspan1226" style="text-decoration:;">配置好的路由表中</tspan></tspan></text></g></g><g id="SvgjsG1227"><path id="SvgjsPath1228" d="M768.0876900195874 770.4095003048101C 742 784 721 783 692.3798681075031 771.2395529742142" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1229)"></path></g><g id="SvgjsG1231" transform="translate(593,743)"><path id="SvgjsPath1232" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1233"><text id="SvgjsText1234" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1235" dy="16" x="48"><tspan id="SvgjsTspan1236" style="text-decoration:;">validator</tspan></tspan></text></g></g><g id="SvgjsG1237" transform="translate(564,642)"><path id="SvgjsPath1238" d="M 0 0L 138 0L 154 16L 154 89L 0 89L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1239" d="M 138 0L 138 16L 154 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1240" d="M 0 0L 138 0L 154 16L 154 89L 0 89L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1241"><text id="SvgjsText1242" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="134px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="9.375" transform="rotate(0)"><tspan id="SvgjsTspan1243" dy="16" x="77"><tspan id="SvgjsTspan1244" style="text-decoration:;">参数校验，利用</tspan></tspan><tspan id="SvgjsTspan1245" dy="16" x="77"><tspan id="SvgjsTspan1246" style="text-decoration:;">@hapi/joi进行请求参</tspan></tspan><tspan id="SvgjsTspan1247" dy="16" x="77"><tspan id="SvgjsTspan1248" style="text-decoration:;">数的校验处理，包括</tspan><tspan id="SvgjsTspan1249" style="text-decoration:;fill: rgb(231, 79, 76);">非</tspan></tspan><tspan id="SvgjsTspan1250" dy="16" x="77"><tspan id="SvgjsTspan1251" style="text-decoration:;fill: rgb(231, 79, 76);">预置参数的过滤</tspan><tspan id="SvgjsTspan1252" style="text-decoration:;">逻辑</tspan></tspan></text></g></g><g id="SvgjsG1253"><path id="SvgjsPath1254" d="M592.1095929769363 770.4551651714255C 563 787 546 787 516.2594774927234 771.5283345427064" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1255)"></path></g><g id="SvgjsG1257" transform="translate(417,743)"><path id="SvgjsPath1258" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1259"><text id="SvgjsText1260" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1261" dy="16" x="48"><tspan id="SvgjsTspan1262" style="text-decoration:;">controller</tspan></tspan></text></g></g><g id="SvgjsG1263" transform="translate(369.5,809)"><path id="SvgjsPath1264" d="M 0 0L 175 0L 191 16L 191 79L 0 79L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1265" d="M 175 0L 175 16L 191 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1266" d="M 0 0L 175 0L 191 16L 191 79L 0 79L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1267"><text id="SvgjsText1268" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="171px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.375" transform="rotate(0)"><tspan id="SvgjsTspan1269" dy="16" x="95.5"><tspan id="SvgjsTspan1270" style="text-decoration:;">本地的业务逻辑处理，包括</tspan></tspan><tspan id="SvgjsTspan1271" dy="16" x="95.5"><tspan id="SvgjsTspan1272" style="text-decoration:;">service层面的原子请求组</tspan></tspan><tspan id="SvgjsTspan1273" dy="16" x="95.5"><tspan id="SvgjsTspan1274" style="text-decoration:;">装、响应组装、缓存设置等等</tspan></tspan></text></g></g><g id="SvgjsG1275"><path id="SvgjsPath1276" d="M416.1016088159034 770.4391961752309C 386 786 371 790 340.1874977012745 771.6732777427462" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1277)"></path></g><g id="SvgjsG1279" transform="translate(241,743)"><path id="SvgjsPath1280" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1281"><text id="SvgjsText1282" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1283" dy="16" x="48"><tspan id="SvgjsTspan1284" style="text-decoration:;">service</tspan></tspan></text></g></g><g id="SvgjsG1285" transform="translate(178.5,652)"><path id="SvgjsPath1286" d="M 0 0L 175 0L 191 16L 191 79L 0 79L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1287" d="M 175 0L 175 16L 191 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1288" d="M 0 0L 175 0L 191 16L 191 79L 0 79L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1289"><text id="SvgjsText1290" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="171px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.375" transform="rotate(0)"><tspan id="SvgjsTspan1291" dy="16" x="95.5"><tspan id="SvgjsTspan1292" style="text-decoration:;">处理对接口层的请求逻辑，包</tspan></tspan><tspan id="SvgjsTspan1293" dy="16" x="95.5"><tspan id="SvgjsTspan1294" style="text-decoration:;">括参数处理、响应的数据结构</tspan></tspan><tspan id="SvgjsTspan1295" dy="16" x="95.5"><tspan id="SvgjsTspan1296" style="text-decoration:;">的转换、日志记录等等</tspan></tspan></text></g></g><g id="SvgjsG1297"><path id="SvgjsPath1298" d="M337.89095823754604 769.5459147448454C 375 748 391 755 413.8475347750098 768.2616205807628" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1299)"></path></g><g id="SvgjsG1301"><path id="SvgjsPath1302" d="M513.859443871324 769.4887698834734C 545 749 564 748 590.0108236949227 767.9938033453411" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1303)"></path></g><g id="SvgjsG1305"><path id="SvgjsPath1306" d="M689.9045175123529 769.5735635219087C 720 754 737 753 765.7519042113454 768.4476231940266" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1307)"></path></g><g id="SvgjsG1309"><path id="SvgjsPath1310" d="M816.5388692278202 742.1126678125139C 801 715 799 698 815.3904383229074 669.2201414887602" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1311)"></path></g><g id="SvgjsG1313"><path id="SvgjsPath1314" d="M816.6111988332098 611.0786783120416C 805 586 802 568 815.6697035070248 538.3451922576704" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1315)"></path></g><g id="SvgjsG1317"><path id="SvgjsPath1318" d="M768.143039837312 507.484617346464C 740 488 718 489 692.1138424938366 506.19334980597307" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1319)"></path></g><g id="SvgjsG1321"><path id="SvgjsPath1322" d="M592.1093502827655 507.5453099064306C 564 491 542 492 516.2336503926468 506.41775313615904" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1323)"></path></g><g id="SvgjsG1325"><path id="SvgjsPath1326" d="M416.11217863105503 507.5398117593369C 383 489 370 489 340.17707976448764 506.3070250533209" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1327)"></path></g><g id="SvgjsG1329"><path id="SvgjsPath1330" d="M240.11424644159234 507.5358441708131C 197 484 172 478 124.16102104700093 506.27722725224214" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1331)"></path><rect id="SvgjsRect1333" width="55" height="16" x="156.40940843607416" y="479.4766339278819" fill="#ffffff"></rect><text id="SvgjsText1334" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="55px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="476.8516339278819" transform="rotate(0)"><tspan id="SvgjsTspan1335" dy="16" x="183.90940843607416"><tspan id="SvgjsTspan1336" style="text-decoration:;">response</tspan></tspan></text></g><g id="SvgjsG1337" transform="translate(25,481)"><path id="SvgjsPath1338" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1339"><text id="SvgjsText1340" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1341" dy="16" x="48"><tspan id="SvgjsTspan1342" style="text-decoration:;">H5</tspan></tspan></text></g></g></svg>