# 前端调试通关秘籍

## 零、前言



## 一、VSCode Chrome Debugger

1. `Attach to Chrome`的用法

   以`remote-debugging-port=9222`为参数启动Chrome

   ```bash
   /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --remote-debugging-port=9222 --user-data-dir=自己创建的某个目录地址
   ```

   此时访问`localhost:9222/json`即可发现ws服务的地址了**（如果没指定user-data-dir要先关闭所有Chrome实例）**

   ![image-20221028083931130](../media/image-20221028083931130.png)

   **关于参数user-data-dir的作用**

   该参数表示Chrome保存用户目录的地方，默认值为`~/Library/Application Support/Google/Chrome`,浏览记录、cookies、插件、书签、网站数据等等都保存在此处

   而启动时指定这个目录而不使用默认目录，是因为它只能被一个Chrome实例所访问，如果此时再启一个端口为9223的实例进行调试时，就会报如下错：

   ![image-20221028085547005](../media/image-20221028085547005.png)

2. `Launch Chrome`的用法

   **launch配置中的userDataDir配置**

   作用如上述，可配置值及意义：

   - true：默认值，表示创建一个临时目录来保存用户数据
   - false：使用默认的user data dir启动chrome
   - 自定义路径：使用自定义路径来保存用户数据

   使用`false`的好处是之前在浏览器保存的用户数据比如登录状态都得到了保留，特别是如`Vue DevTools`等插件也是保存了默认用户目录中的，如果选择了`true`则需要重新安装插件

   **在调试的同时使用Chrome**

   安装Chrome的Canary版本，在`launch`方式的`runtimeExecutable`中配置值"canary"，则可以在使用同一个用户数据目录的情况下，调用使用Canary版本，正常使用普通版本，更多关于`runtimeExecutable`的值可以在vscode中查看说明

   **runtimeArgs指定Chome打开时的默认行为**

   - --auto-open-devtools-for-tabs：默认打开Chrome DevTools
   - --incognito：以无痕模式启动Chrome
   - --user-data-dir：上面已介绍，选项`userDataDir`其实就是通过指定该参数实现的

   **sourceMapPathOverrides**

   ![img](../media/841aabf5f3754dd8a8cfe8bc225aa393~tplv-k3u1fbpfcp-zoom-in-crop-mark.awebp)

   用于对源码路径再进行一次映射

## 二、sourcemap

> sourcemap是关联编译后的代码和源码的，通过一个个行列号的映射



